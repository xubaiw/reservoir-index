<html>
<head>
<meta charset="utf-8"></meta><title>Kha/do-supplement</title>
<link rel="stylesheet" href="./static/style.css"></link></head>
<body>
<header>
<h1>
<a href="./">Reservoir</a>
</h1>
<input placeholder="Text in here to navigate!"></input><ul>
<li>
<a href="#">About</a>
</li>
<li>
<a href="#">New</a>
</li>
<li>
<a href="#">Trending</a>
</li>
</ul>
</header>
<main>
<h1>Kha/do-supplement</h1>
<p>Supplement of the ICFP'22 paper "‘do’ Unchained: Embracing Local Imperativity in a Purely Functional Language"</p>
<a href="https://github.com/Kha/do-supplement">GitHub Link</a>
<a href="#" title="Missing now!">Documentation</a>
<h2>Pick a version!</h2>
<p>TODO: should show a time axes that allows the users to view, filter and click copy the lakefile config.</p>
<h2>README</h2>
<div class="md" data-path="README.md" id="readme"><article class="markdown-body entry-content container-lg" itemprop="text"><h3 dir="auto">Supplemental material for the paper "'do' Unchained: Embracing Local Imperativity in a Purely Functional Language (Functional Pearl)"</h3>
<p dir="auto">This supplement consists of a Lean 4 package containing translation rules and example proofs of equivalence as described in the paper.
Each extension is declared in a separate <code>.lean</code> file in the <code>Do</code> directory:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="Do/
  Basic.lean     # Section 2, Figure 1
  Mut.lean       # Section 2, Figures 3 & 5
  Return.lean    # Section 3
  For.lean       # Section 4

  LazyList.lean  # nondeterministic monad implementation used in `Mut.lean` examples"><pre class="notranslate"><code>Do/
  Basic.lean     # Section 2, Figure 1
  Mut.lean       # Section 2, Figures 3 & 5
  Return.lean    # Section 3
  For.lean       # Section 4

  LazyList.lean  # nondeterministic monad implementation used in `Mut.lean` examples
</code></pre></div>
<p dir="auto"><code>Do/Formal.lean</code> contains the formalization of the equivalence proof written in a literate style explaining more details not mentioned in the paper.
Each Lean file comes with a corresponding <code>.html</code> file rendered using Alectryon that allows for exploring the file including type and goal information in any browser without installing Lean.
The directory <code>gh-survey</code> contains simple scripts for aggregating the use of extended <code>do</code> notation from Lean projects on GitHub.</p>
<h4 dir="auto">Exploring the supplement with Lean</h4>
<p dir="auto">While the <a href="https://leanprover.github.io/lean4/doc/setup.html" rel="nofollow">generic instructions</a> for setting up Lean 4 can be used for interacting with this package, we will give a simplified workflow using the specific version of Lean 4 and a single editor, VS Code, that minimizes changes to the host machines in the following:</p>
<ul dir="auto">
<li>Download and unpack your platform's release of <a href="https://github.com/leanprover/lean4-nightly/releases/tag/nightly-2022-06-01">Lean 4.0.0-nightly-2022-06-01</a></li>
<li>Add the <code>bin</code> directory of that archive to your shell's search path, e.g.</li>
</ul>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ export PATH=$PATH:~/Downloads/lean-4.0.0-linux/bin"><pre>$ <span class="pl-k">export</span> PATH=<span class="pl-smi">$PATH</span>:<span class="pl-k">~</span>/Downloads/lean-4.0.0-linux/bin</pre></div>
<ul dir="auto">
<li>Install VS Code and open the package in it: <code>code .</code>.
It is very important that <code>lean</code> is in the search path of VS Code and that the supplement folder is opened as a workspace, which this command should ensure.</li>
<li>Open the Extensions tab (<code>Ctrl+Shift+X</code>) and install the <code>lean4</code> extension (author: <code>leanprover</code>).</li>
<li>You should now have working error diagnostics, go-to-definition, as well as a goal display for tactic proofs in the supplement files!</li>
</ul>
</article></div></main>
</body>
</html>