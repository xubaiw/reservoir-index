<html>
<head>
<meta charset="utf-8"></meta><title>leanprover/doc-gen4</title>
<link rel="stylesheet" href="./static/style.css"></link></head>
<body>
<header>
<h1>
<a href="./">Reservoir</a>
</h1>
<input placeholder="Text in here to navigate!"></input><ul>
<li>
<a href="#">About</a>
</li>
<li>
<a href="#">New</a>
</li>
<li>
<a href="#">Trending</a>
</li>
</ul>
</header>
<main>
<h1>leanprover/doc-gen4</h1>
<p>Document Generator for Lean 4</p>
<a href="https://github.com/leanprover/doc-gen4">GitHub Link</a>
<a href="#" title="Missing now!">Documentation</a>
<h2>Pick a version!</h2>
<p>TODO: should show a time axes that allows the users to view, filter and click copy the lakefile config.</p>
<h2>README</h2>
<div class="md" data-path="README.md" id="readme"><article class="markdown-body entry-content container-lg" itemprop="text"><h3 dir="auto">doc-gen4</h3>
<p dir="auto">Document Generator for Lean 4</p>
<h4 dir="auto">Usage</h4>
<p dir="auto">You can call <code>doc-gen4</code> from the top of a Lake project like this:</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ /path/to/doc-gen4 Module"><pre>$ /path/to/doc-gen4 Module</pre></div>
<p dir="auto">where <code>Module</code> is one or more of the top level modules you want to document.
The tool will then proceed to compile the project using lake (if that hasn't happened yet),
analyze it and put the result in <code>./build/doc</code>.</p>
<p dir="auto">You can optionally provide the path to a <code>LeanInk</code> binary using the <code>--ink</code> flag which will make
the tool produce <code>Alectryon</code> style rendered output along the usual documentation.</p>
<p dir="auto">You could e.g. host the files locally with the built-in Python webserver:</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ cd build/doc && python -m http.server"><pre>$ <span class="pl-c1">cd</span> build/doc <span class="pl-k">&&</span> python -m http.server</pre></div>
<h5 dir="auto">Multi stage</h5>
<p dir="auto">You can also use <code>doc-gen4</code> in multiple separate stages to generate the whole documentation.
For example <code>mathlib4</code> consists out of 4 modules, the 3 Lean compiler ones and itself:</p>
<ul dir="auto">
<li><code>Init</code></li>
<li><code>Std</code></li>
<li><code>Lean</code></li>
<li><code>Mathlib</code>
The first build stage is to run doc-gen for all modules separately:</li>
</ul>
<ol dir="auto">
<li><code>doc-gen4 single Init Mathlib</code></li>
<li><code>doc-gen4 single Std Mathlib</code></li>
<li><code>doc-gen4 single Lean Mathlib</code></li>
<li><code>doc-gen4 single Mathlib Mathlib</code>
We have to pass the <code>Mathlib</code> top level module on each invocation here so
it can generate the navbar on the left hand side properly, it will only
generate documentation for its first argument module.</li>
</ol>
<p dir="auto">Furthermore one can use the <code>--ink</code> flag here to also generate LeanInk
documentation in addition.</p>
<p dir="auto">The second and last stage is the finalize one which zips up some
information relevant for the search:</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ doc-gen4 finalize Mathlib"><pre>$ doc-gen4 finalize Mathlib</pre></div>
<p dir="auto">Now <code>build/doc</code> should contain the same files with the same context as if one had run</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ doc-gen4 Mathlib"><pre class="notranslate"><code>$ doc-gen4 Mathlib
</code></pre></div>
</article></div></main>
</body>
</html>