<html>
<head>
<meta charset="utf-8"></meta><title>xubaiw/BaseN.lean</title>
<link rel="stylesheet" href="./static/style.css"></link></head>
<body>
<header>
<h1>
<a href="./">Reservoir</a>
</h1>
<input placeholder="Text in here to navigate!"></input><ul>
<li>
<a href="#">About</a>
</li>
<li>
<a href="#">New</a>
</li>
<li>
<a href="#">Trending</a>
</li>
</ul>
</header>
<main>
<h1>xubaiw/BaseN.lean</h1>
<p>RFC 4648 compliant Base-N encoding in Lean 4</p>
<a href="https://github.com/xubaiw/BaseN.lean">GitHub Link</a>
<a href="#" title="Missing now!">Documentation</a>
<h2>Pick a version!</h2>
<p>TODO: should show a time axes that allows the users to view, filter and click copy the lakefile config.</p>
<h2>README</h2>
<div class="md" data-path="README.md" id="readme"><article class="markdown-body entry-content container-lg" itemprop="text"><h3 data-sourcepos="1:1-1:12" dir="auto">BaseN.lean</h3>
<p data-sourcepos="3:1-3:157" dir="auto">Encoding and decoding for <code>base16</code>, <code>base32</code>, <code>base32hex</code>, <code>base64</code> and <code>base64url</code>, compliant to <a href="https://datatracker.ietf.org/doc/html/rfc4648" rel="nofollow">RFC 4648</a>.</p>
<h4 data-sourcepos="5:1-5:8" dir="auto">Usage</h4>
<div class="highlight highlight-source-lean position-relative overflow-auto" data-snippet-clipboard-copy-content="import BaseN
open BaseN

#eval encode64 "Man".toUTF8  -- "TWFu"
#eval decode64 "TWFu" |>.map String.fromUTF8Unchecked  -- some "Man"

#eval encode64 "Ma".toUTF8  -- "TWE="
#eval decode64 "TWE=" |>.map String.fromUTF8Unchecked  -- some "Ma""><pre><span class="pl-k">import</span> BaseN
<span class="pl-k">open</span> BaseN

<span class="pl-k">#eval</span> encode64 <span class="pl-s"><span class="pl-pds">"</span>Man<span class="pl-pds">"</span></span>.toUTF8  <span class="pl-c"><span class="pl-c">--</span> "TWFu"</span>
<span class="pl-k">#eval</span> decode64 <span class="pl-s"><span class="pl-pds">"</span>TWFu<span class="pl-pds">"</span></span> |>.map String.fromUTF8Unchecked  <span class="pl-c"><span class="pl-c">--</span> some "Man"</span>

<span class="pl-k">#eval</span> encode64 <span class="pl-s"><span class="pl-pds">"</span>Ma<span class="pl-pds">"</span></span>.toUTF8  <span class="pl-c"><span class="pl-c">--</span> "TWE="</span>
<span class="pl-k">#eval</span> decode64 <span class="pl-s"><span class="pl-pds">"</span>TWE=<span class="pl-pds">"</span></span> |>.map String.fromUTF8Unchecked  <span class="pl-c"><span class="pl-c">--</span> some "Ma"</span></pre></div>
<p data-sourcepos="18:1-18:46" dir="auto">To customize alphabet and other configutation:</p>
<div class="highlight highlight-source-lean position-relative overflow-auto" data-snippet-clipboard-copy-content="
let myAlphabet := {
  list := "ABCDEFGHIJKLMNOPQRSTUV0123456789".data  -- length of `list` can be 16, 32 or 64
  padChar := '='  -- padChar can be `none` when list.length = 16
}  -- all character in `list` and `padChar` should be distinct to each other

def myEncode32 := encodeConfig {
  alphabet := myAlphabet
  usePaddding := false  -- do not pad `=` at the end
}

def myDecode32 := decodeConfig {
  alphabet := myAlphabet
  rejectOutside := false  -- ignore characters not in alphabet, otherwise fail the decoding
}

#eval myEncode32 "Ma".toUTF8
#eval myDecode32 "E70B" |>.map String.fromUTF8Unchecked"><pre><span class="pl-k">let</span> myAlphabet := {
  list := <span class="pl-s"><span class="pl-pds">"</span>ABCDEFGHIJKLMNOPQRSTUV0123456789<span class="pl-pds">"</span></span>.data  <span class="pl-c"><span class="pl-c">--</span> length of `list` can be 16, 32 or 64</span>
  padChar := <span class="pl-s">'='</span>  <span class="pl-c"><span class="pl-c">--</span> padChar can be `none` when list.length = 16</span>
}  <span class="pl-c"><span class="pl-c">--</span> all character in `list` and `padChar` should be distinct to each other</span>

<span class="pl-k">def</span> <span class="pl-en">myEncode32</span> := encodeConfig {
  alphabet := myAlphabet
  usePaddding := false  <span class="pl-c"><span class="pl-c">--</span> do not pad `=` at the end</span>
}

<span class="pl-k">def</span> <span class="pl-en">myDecode32</span> := decodeConfig {
  alphabet := myAlphabet
  rejectOutside := false  <span class="pl-c"><span class="pl-c">--</span> ignore characters not in alphabet, otherwise fail the decoding</span>
}

<span class="pl-k">#eval</span> myEncode32 <span class="pl-s"><span class="pl-pds">"</span>Ma<span class="pl-pds">"</span></span>.toUTF8
<span class="pl-k">#eval</span> myDecode32 <span class="pl-s"><span class="pl-pds">"</span>E70B<span class="pl-pds">"</span></span> |>.map String.fromUTF8Unchecked</pre></div>
</article></div></main>
</body>
</html>